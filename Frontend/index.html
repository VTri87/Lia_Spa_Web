<!doctype html>
<html lang="de">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Lia Spa | Nagelstudio Unna</title>
    <meta name="description" content="Lia Spa - Nagelstudio in Unna. Pflege, Design und Wohlgefühl für deine Nägel." />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600;700&family=Manrope:wght@300;400;500;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <nav class="nav">
      <a class="logo" href="#top">
        <img src="assets/Nagelstduio%20(2).png" alt="Lia Spa Logo" />
        <span>Lia Spa</span>
      </a>
      <div class="nav-links">
        <a href="#leistungen">Leistungen</a>
        <a href="#preise">Preise</a>
        <a href="#galerie">Galerie</a>
        <a href="#kontakt">Kontakt</a>
      </div>
      <a class="cta" href="#termin">Termin anfragen</a>
    </nav>
    <div class="page">
      <header class="hero" id="top">
        <div class="hero-content">
          <div class="hero-text reveal">
            <p class="eyebrow">Nagelstudio in Unna</p>
            <h1>
              <span class="hero-brand">Lia Spa</span>
              Elegante Nagelkunst mit ruhiger Spa-Atmosphäre.
            </h1>
            <p class="lead">
              Lia Spa ist dein Ort für gepflegte, stilvolle Nägel - von klassisch
              bis modern. Wir nehmen uns Zeit für dich und arbeiten sauber,
              sanft und mit viel Liebe zum Detail.
            </p>
            <div class="hero-actions">
              <a class="button primary" href="#termin">Termin anfragen</a>
              <a class="button ghost" href="#leistungen">Leistungen ansehen</a>
            </div>
            <div class="hero-meta">
              <div>
                <span class="meta-label">Adresse</span>
                <span>Morgenstr 14, 59423 Unna</span>
              </div>
              <div>
                <span class="meta-label">Facebook</span>
                <a
                  class="meta-link"
                  href="https://www.facebook.com/p/Lia-Spa-Unna-100087574342851/"
                  target="_blank"
                  rel="noreferrer"
                >
                  Lia Spa Unna
                </a>
              </div>
            </div>
          </div>
          <div class="hero-card reveal">
            <div class="card-badge">Neu</div>
            <h2>One-Page Vorschau</h2>
            <p>
              Inhalte sind aktuell Platzhalter. Wir füllen sie Schritt für
              Schritt mit echten Leistungen, Preisen und Bildern.
            </p>
            <div class="card-list">
              <div>
                <span>5+</span>
                <p>Style-Varianten pro Monat</p>
              </div>
              <div>
                <span>45 min</span>
              <p>durchschnittliche Behandlung</p>
              </div>
              <div>
                <span>100%</span>
                <p>Focus auf Hygiene</p>
              </div>
            </div>
          </div>
        </div>
        <div class="hero-glow"></div>
      </header>

      <section class="section" id="leistungen">
        <div class="section-heading reveal">
          <p class="eyebrow">Leistungen</p>
          <h2>Alles für gepflegte Hände und starke Nägel.</h2>
          <p class="section-lead">
            Wählen wir zusammen das passende Design. Auszug aus der Preisliste
            für schnelle Orientierung.
          </p>
        </div>
        <div class="grid services">
          <article class="tile reveal">
            <h3>Manikure inkl. Shellac</h3>
            <p>Pflege & Shellac-Finish.</p>
            <span class="tag">30 EUR</span>
          </article>
          <article class="tile reveal">
            <h3>Pediküre inkl. Massage</h3>
            <p>Pflege mit wohltuender Massage.</p>
            <span class="tag">31 EUR</span>
          </article>
          <article class="tile reveal">
            <h3>Pediküre inkl. Shellac</h3>
            <p>Pflege & Shellac-Finish.</p>
            <span class="tag">43 EUR</span>
          </article>
          <article class="tile reveal">
            <h3>Ablösen</h3>
            <p>Schonendes Entfernen.</p>
            <span class="tag">15 EUR</span>
          </article>
        </div>
      </section>

      <section class="section split" id="preise">
        <div class="section-heading reveal">
          <p class="eyebrow">Preise</p>
          <h2>Klare, faire Preise.</h2>
          <p class="section-lead">
            Alle Preise aus der aktuellen Preisliste.
          </p>
        </div>
        <div class="price-card reveal">
          <div class="price-row">
            <div>
              <h4>Manikure inkl. Shellac</h4>
              <p>Pflege & Shellac-Finish</p>
            </div>
            <span>30 EUR</span>
          </div>
          <div class="price-row">
            <div>
          <h4>Pediküre inkl. Massage</h4>
              <p>Pflege mit Massage</p>
            </div>
            <span>31 EUR</span>
          </div>
          <div class="price-row">
            <div>
          <h4>Pediküre inkl. Shellac</h4>
              <p>Pflege & Shellac-Finish</p>
            </div>
            <span>43 EUR</span>
          </div>
          <div class="price-row">
            <div>
          <h4>Ablösen</h4>
              <p>Schonendes Entfernen</p>
            </div>
            <span>15 EUR</span>
          </div>
        </div>
        <div class="price-card sub-prices reveal">
          <h3>UV-Gel-System</h3>
          <div class="price-row small">
            <div>
              <h4>Natur</h4>
              <p>Neu / Auffüllen</p>
            </div>
            <span>32 EUR / 29 EUR</span>
          </div>
          <div class="price-row small">
            <div>
              <h4>French</h4>
              <p>Neu / Auffüllen</p>
            </div>
            <span>38 EUR / 35 EUR</span>
          </div>
          <div class="price-row small">
            <div>
              <h4>UV-Lack / Farb-Gel</h4>
              <p>Neu / Auffüllen</p>
            </div>
            <span>39 EUR / 36 EUR</span>
          </div>
          <div class="price-row small">
            <div>
              <h4>Babyboomer</h4>
              <p>Neu / Auffüllen</p>
            </div>
            <span>40 EUR / 37 EUR</span>
          </div>
        </div>
        <div class="price-card sub-prices reveal">
          <h3>Nageldesign</h3>
          <div class="price-row small">
            <div>
              <h4>Extra Lang</h4>
              <p>abhängig von der Länge</p>
            </div>
            <span>ab +2 EUR, +3 EUR, +5 EUR</span>
          </div>
          <div class="price-row small">
            <div>
              <h4>Design pro Nagel</h4>
              <p>Einzelnes Design</p>
            </div>
            <span>ab +2 EUR</span>
          </div>
          <div class="price-row small">
            <div>
              <h4>Design Set</h4>
              <p>Komplettes Set</p>
            </div>
            <span>ab +10 EUR</span>
          </div>
          <div class="price-row small">
            <div>
              <h4>Strass - Steindesign</h4>
              <p>pro Stück</p>
            </div>
            <span>ab +0.50 EUR</span>
          </div>
          <div class="price-row small">
            <div>
              <h4>Reparatur pro Nagel</h4>
              <p>Ausbessern</p>
            </div>
            <span>5 EUR</span>
          </div>
        </div>
      </section>

      <section class="section" id="galerie">
        <div class="section-heading reveal">
          <p class="eyebrow">Galerie</p>
          <h2>Einblicke in unseren Stil.</h2>
          <p class="section-lead">
            Flyer- und Designlook als Vorschau. Echte Arbeiten ergänzen wir gern.
          </p>
        </div>
        <div class="grid gallery">
          <div class="photo placeholder reveal"><span>Foto 1</span></div>
          <div class="photo placeholder reveal"><span>Foto 2</span></div>
          <div class="photo placeholder reveal"><span>Foto 3</span></div>
          <div class="photo placeholder reveal"><span>Foto 4</span></div>
          <div class="photo placeholder reveal"><span>Foto 5</span></div>
          <div class="photo placeholder reveal"><span>Foto 6</span></div>
        </div>
      </section>

      <section class="section" id="termin">
        <div class="section-heading reveal">
          <p class="eyebrow">Termin</p>
          <h2>Termin buchen - schnell und verbindlich.</h2>
          <p class="section-lead">
            Buchungen sind mo - fr von 10:00 bis 19:00 Uhr moeglich. Jeder Termin
            dauert 1 Stunde. Eine Anzahlung von 20 EUR ist erforderlich (PayPal
            folgt spaeter nach Bestaetigung).
          </p>
        </div>
        <div class="booking-card reveal">
          <form class="booking-form" id="booking-form" novalidate>
            <div class="booking-grid booking-grid--date">
              <label class="field">
                <span>Datum (mo - fr)*</span>
                <input type="date" name="date" id="booking-date" required />
              </label>
            </div>

            <div class="booking-slot-card">
              <div class="slot-header">
                <div>
                  <span class="slot-title">Uhrzeit waehlen*</span>
                  <p class="slot-subtitle">Belegte Termine sind rot, freie Termine gruen.</p>
                </div>
                <div class="slot-legend">
                  <span class="legend-item legend-free">Frei</span>
                  <span class="legend-item legend-busy">Belegt</span>
                </div>
              </div>
              <div class="slot-grid" id="booking-slots" aria-live="polite">
                <span class="slot-placeholder">Bitte zuerst ein Datum waehlen.</span>
              </div>
              <input type="hidden" name="time" id="booking-time" required />
              <p class="slot-selected" id="booking-selected" aria-live="polite"></p>
            </div>

            <div class="booking-details hidden" id="booking-details">
              <div class="booking-grid">
                <label class="field">
                  <span>Vor- und Nachname*</span>
                  <input type="text" name="name" required placeholder="Dein Name" />
                </label>
                <label class="field">
                  <span>Telefonnummer*</span>
                  <input type="tel" name="phone" required placeholder="z.B. 0151 123456" />
                </label>
                <label class="field">
                  <span>E-Mail (optional)</span>
                  <input type="email" name="email" placeholder="name@email.de" />
                </label>
                <label class="field">
                  <span>Behandlung (optional)</span>
                  <input type="text" name="service" placeholder="z.B. Manikuere, Pedikuere" />
                </label>
              </div>
              <label class="field full">
                <span>Nachricht (optional)</span>
                <textarea name="message" rows="4" placeholder="Wuensche, Designideen, Hinweise"></textarea>
              </label>
              <label class="consent">
                <input type="checkbox" id="booking-consent" required />
                <span>
                  Ich stimme zu, dass meine Daten zur Terminabstimmung verarbeitet werden
                  (weitere Infos in der <a href="datenschutz.html">Datenschutzerklaerung</a>).
                </span>
              </label>
              <div class="booking-actions">
                <button class="button primary" type="submit" id="booking-submit">Termin anfragen</button>
                <div class="booking-alt">
                  Alternativ: <a href="https://wa.me/4915162429933" target="_blank" rel="noreferrer">WhatsApp</a> oder
                  <a href="https://www.facebook.com/p/Lia-Spa-Unna-100087574342851/" target="_blank" rel="noreferrer">Facebook</a>
                </div>
              </div>
            </div>

            <p class="booking-note" id="booking-note" aria-live="polite"></p>
          </form>
        </div>
      </section>

      <section class="section split" id="kontakt">
        <div class="section-heading reveal">
          <p class="eyebrow">Kontakt</p>
          <h2>So erreichst du uns.</h2>
          <p class="section-lead">
            Öffnungszeiten und Telefonnummer können wir gleich einfügen.
          </p>
        </div>
        <div class="contact-card reveal">
          <div>
            <h4>Adresse</h4>
            <p>Morgenstr 14</p>
            <p>59423 Unna</p>
          </div>
          <div>
            <h4>Oeffnungszeiten</h4>
            <p>Mo - Fr: 10:00 - 19:00</p>
            <p>Sa - So: geschlossen</p>
          </div>
          <div>
            <h4>Kontakt</h4>
            <p>Telefon: 0151 62429933</p>
            <p>WhatsApp: 0151 62429933</p>
            <p>E-Mail: liaspa@gmx.de</p>
            <p>Instagram: @LIASPAUNNA</p>
          </div>
        </div>
      </section>
<footer class="footer">
        <div>
          <strong>Lia Spa</strong>
          <span>Nagelstudio in Unna</span>
        </div>
        <div class="footer-links">
          <a href="https://www.facebook.com/p/Lia-Spa-Unna-100087574342851/" target="_blank" rel="noreferrer">
            Facebook
          </a>
          <a href="admin/index.html">Inhaber Login</a>
          <a href="impressum.html">Impressum</a>
          <a href="agb.html">AGB</a>
          <a href="datenschutz.html">Datenschutz</a>
        </div>
  </footer>
    </div>

    <div class="cookie-panel" id="cookie-panel" role="dialog" aria-live="polite" aria-label="Cookie Einstellungen">
      <div class="cookie-panel__head">
        <h3>Cookie-Einstellungen</h3>
        <p>
          Diese Website verwendet Cookies, um Besuchern ein optimales Nutzererlebnis zu bieten.
          Bestimmte Inhalte von Drittanbietern werden nur angezeigt, wenn die entsprechende Option
          aktiviert ist. Weitere Informationen findest du in der
          <a href="datenschutz.html">Datenschutzerklärung</a>.
        </p>
      </div>

      <div class="cookie-options">
        <div class="cookie-row">
          <div>
            <h4>Technisch notwendige</h4>
            <p>Diese sind für den Betrieb der Seite erforderlich.</p>
          </div>
          <label class="switch">
            <input type="checkbox" id="cookie-necessary" checked disabled />
            <span class="slider" aria-hidden="true"></span>
          </label>
        </div>
        <div class="cookie-row">
          <div>
            <h4>Analytische</h4>
            <p>Hilft uns zu verstehen, wie die Website genutzt wird.</p>
          </div>
          <label class="switch">
            <input type="checkbox" id="cookie-analytics" />
            <span class="slider" aria-hidden="true"></span>
          </label>
        </div>
        <div class="cookie-row">
          <div>
            <h4>Drittanbieter-Inhalte</h4>
            <p>Ermöglicht das Laden externer Inhalte, z. B. Social Media.</p>
          </div>
          <label class="switch">
            <input type="checkbox" id="cookie-thirdparty" />
            <span class="slider" aria-hidden="true"></span>
          </label>
        </div>
      </div>

      <div class="cookie-actions">
        <button class="button ghost" id="cookie-reject">Ablehnen</button>
        <button class="button primary" id="cookie-accept">Alle akzeptieren</button>
        <button class="button" id="cookie-save">Speichern</button>
      </div>
    </div>
    <div class="cookie-backdrop" id="cookie-backdrop" aria-hidden="true"></div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script>
      (function () {
        var nav = document.querySelector(".nav");
        var panel = document.getElementById("cookie-panel");
        var backdrop = document.getElementById("cookie-backdrop");
        var accept = document.getElementById("cookie-accept");
        var reject = document.getElementById("cookie-reject");
        var save = document.getElementById("cookie-save");
        var analytics = document.getElementById("cookie-analytics");
        var thirdparty = document.getElementById("cookie-thirdparty");
        if (nav) {
          var onScroll = function () {
            if (window.scrollY > 16) {
              nav.classList.add("scrolled");
            } else {
              nav.classList.remove("scrolled");
            }
          };
          onScroll();
          window.addEventListener("scroll", onScroll, { passive: true });
        }

        if (!panel || !backdrop || !accept || !reject || !save || !analytics || !thirdparty) return;

        var stored = localStorage.getItem("cookiePrefs");
        if (stored) {
          try {
            var prefs = JSON.parse(stored);
            analytics.checked = !!prefs.analytics;
            thirdparty.checked = !!prefs.thirdparty;
            panel.classList.add("hidden");
            backdrop.classList.add("hidden");
            return;
          } catch (e) {}
        }

        function setPrefs(a, t) {
          localStorage.setItem("cookiePrefs", JSON.stringify({ analytics: a, thirdparty: t }));
          panel.classList.add("hidden");
          backdrop.classList.add("hidden");
        }

        accept.addEventListener("click", function () {
          setPrefs(true, true);
        });

        reject.addEventListener("click", function () {
          setPrefs(false, false);
        });

        save.addEventListener("click", function () {
          setPrefs(analytics.checked, thirdparty.checked);
        });
      })();

      (function () {
        var revealItems = document.querySelectorAll(".reveal");
        if (!revealItems.length) return;

        revealItems.forEach(function (el) {
          el.classList.add("reveal-ready");
        });

        var observer = new IntersectionObserver(
          function (entries) {
            entries.forEach(function (entry) {
              if (entry.isIntersecting) {
                entry.target.classList.add("in-view");
                observer.unobserve(entry.target);
              }
            });
          },
          { threshold: 0.18 }
        );

        revealItems.forEach(function (el) {
          observer.observe(el);
        });
      })();

      (function () {
        var dateInput = document.getElementById("booking-date");
        var slotsContainer = document.getElementById("booking-slots");
        var timeInput = document.getElementById("booking-time");
        var selectedLabel = document.getElementById("booking-selected");
        var submitBtn = document.getElementById("booking-submit");
        var note = document.getElementById("booking-note");
        var form = document.getElementById("booking-form");
        var consent = document.getElementById("booking-consent");
        var details = document.getElementById("booking-details");
        if (
          !dateInput ||
          !slotsContainer ||
          !timeInput ||
          !selectedLabel ||
          !submitBtn ||
          !form ||
          !note ||
          !consent ||
          !details
        )
          return;

        var SUPABASE_URL = "https://mapethfwgkdufhxftjxc.supabase.co";
        var SUPABASE_ANON_KEY =
          "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1hcGV0aGZ3Z2tkdWZoeGZ0anhjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgwODI1NzYsImV4cCI6MjA4MzY1ODU3Nn0.jc8Z5XZsLqEZCDLCUU4o7X1jhn24YE_3PZKF3HZtJsc";

        if (!window.supabase) {
          note.textContent =
            "Buchung ist gerade nicht verfuegbar. Bitte per WhatsApp oder Telefon anfragen.";
          return;
        }

        var supabaseClient = window.supabase.createClient(
          SUPABASE_URL,
          SUPABASE_ANON_KEY
        );

        var today = new Date();
        var yyyy = today.getFullYear();
        var mm = String(today.getMonth() + 1).padStart(2, "0");
        var dd = String(today.getDate()).padStart(2, "0");
        dateInput.min = yyyy + "-" + mm + "-" + dd;

        function isWeekday(date) {
          var day = date.getDay();
          return day >= 1 && day <= 5;
        }

        var slotTimes = [];
        for (var h = 10; h <= 18; h += 1) {
          var startLabel = String(h).padStart(2, "0") + ":00";
          var endLabel = String(h + 1).padStart(2, "0") + ":00";
          slotTimes.push({ value: startLabel, label: startLabel + " - " + endLabel });
        }

        function showSlotsMessage(message) {
          slotsContainer.innerHTML = "";
          var placeholder = document.createElement("span");
          placeholder.className = "slot-placeholder";
          placeholder.textContent = message;
          slotsContainer.appendChild(placeholder);
        }

        function clearSelection() {
          timeInput.value = "";
          selectedLabel.textContent = "";
          details.classList.add("hidden");
          var selectedBtn = slotsContainer.querySelector(".slot-btn.is-selected");
          if (selectedBtn) selectedBtn.classList.remove("is-selected");
        }

        function renderSlots(booked) {
          slotsContainer.innerHTML = "";
          if (!slotTimes.length) {
            showSlotsMessage("Keine Termine verfuegbar.");
            return;
          }
          slotTimes.forEach(function (slot) {
            var btn = document.createElement("button");
            var isBusy = booked.has(slot.value);
            btn.type = "button";
            btn.className = "slot-btn " + (isBusy ? "is-busy" : "is-free");
            btn.textContent = slot.label;
            btn.disabled = isBusy;
            if (!isBusy) {
              btn.addEventListener("click", function () {
                clearSelection();
                timeInput.value = slot.value;
                selectedLabel.textContent = "Ausgewaehlter Termin: " + slot.label;
                details.classList.remove("hidden");
                btn.classList.add("is-selected");
                note.textContent = "";
              });
            }
            slotsContainer.appendChild(btn);
          });
        }

        function loadSlotsForDate(dateValue) {
          if (!dateValue) {
            showSlotsMessage("Bitte zuerst ein Datum waehlen.");
            return;
          }
          showSlotsMessage("Termine werden geladen...");
          supabaseClient
            .from("bookings")
            .select("booking_time,status")
            .eq("booking_date", dateValue)
            .in("status", ["pending", "confirmed"])
            .then(function (result) {
              if (result.error) {
                showSlotsMessage("Termine konnten nicht geladen werden.");
                return;
              }
              var booked = new Set();
              (result.data || []).forEach(function (row) {
                if (row.booking_time) booked.add(row.booking_time.slice(0, 5));
              });
              renderSlots(booked);
            });
        }

        dateInput.addEventListener("change", function () {
          note.textContent = "";
          clearSelection();
          if (!dateInput.value) {
            showSlotsMessage("Bitte zuerst ein Datum waehlen.");
            return;
          }
          var selected = new Date(dateInput.value + "T00:00:00");
          if (!isWeekday(selected)) {
            showSlotsMessage("Bitte ein Datum von Montag bis Freitag waehlen.");
            note.textContent = "Termine sind nur montags bis freitags moeglich.";
            return;
          }
          loadSlotsForDate(dateInput.value);
        });

        form.addEventListener("submit", function (event) {
          event.preventDefault();
          if (!timeInput.value) {
            note.textContent = "Bitte zuerst eine freie Uhrzeit waehlen.";
            return;
          }
          if (!form.checkValidity()) {
            note.textContent = "Bitte alle Pflichtfelder ausfuellen und zustimmen.";
            return;
          }
          var selectedDate = new Date(dateInput.value + "T00:00:00");
          if (!isWeekday(selectedDate)) {
            note.textContent = "Termine sind nur montags bis freitags moeglich.";
            return;
          }
          if (!consent.checked) {
            note.textContent = "Bitte der Datenverarbeitung zustimmen.";
            return;
          }
          var formData = new FormData(form);
          var payload = {
            booking_date: formData.get("date"),
            booking_time: formData.get("time"),
            name: formData.get("name"),
            phone: formData.get("phone"),
            email: formData.get("email") || null,
            service: formData.get("service") || null,
            message: formData.get("message") || null,
            status: "pending",
            payment_status: "unpaid",
            source: "web",
            consent_at: new Date().toISOString(),
          };

          submitBtn.disabled = true;
          submitBtn.textContent = "Wird gesendet...";
          note.textContent = "";

          supabaseClient
            .from("bookings")
            .insert(payload)
            .then(function (result) {
              if (result.error) {
                if (result.error.code === "23505") {
                  note.textContent =
                    "Dieser Termin ist leider schon belegt. Bitte eine andere Zeit waehlen.";
                  clearSelection();
                  loadSlotsForDate(dateInput.value);
                } else {
                  note.textContent =
                    "Leider ist ein Fehler aufgetreten. Bitte spaeter erneut versuchen.";
                }
                return;
              }
              form.reset();
              clearSelection();
              showSlotsMessage("Bitte zuerst ein Datum waehlen.");
              note.textContent =
                "Danke! Deine Anfrage ist eingegangen. Wir bestaetigen den Termin kurzfristig.";
            })
            .finally(function () {
              submitBtn.disabled = false;
              submitBtn.textContent = "Termin anfragen";
            });
        });
      })();
    </script>
  </body>
</html>


